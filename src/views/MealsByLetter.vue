<template>
    <div>
        <!-- Meals by letter -->
        <!-- <div class="flex flex-col items-center p-8 justify-center"> -->
        

        <div class="flex justify-center gap-2  mt-2">
           <router-link 
           :to="{name:'byLetter', params:{ letter: letter } }" 
           v-for="letter in letters" :key="letter"
           >
                {{ letter }}
            </router-link>
        </div>
    <!-- </div> -->

    <Meals :meals="meals"/>
    </div>
</template>

<script setup>
import { computed, onMounted, watch } from "vue";
import { useRoute } from "vue-router";
import store from "../store";
import Meals from "../components/Meals.vue";

const route = useRoute()
const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split("")

const meals= computed(()=>store.state.mealsByLetter)

watch(route, ()=>{
    store.dispatch('searchMealsByLetter', route.params.letter)
})

onMounted(()=>{
    store.dispatch('searchMealsByLetter', route.params.letter)
})

</script>

<style>

</style>